<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<!--User profile-->
	<entry key="Q_Select_User_Profile_By_Id">
		<![CDATA[
			SELECT *
			FROM user_profile
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Select_User_Profile_By_Username">
		<![CDATA[
			SELECT *
			FROM user_profile
			WHERE username = ?
		]]>
	</entry>


	<!--User profile info-->
	<entry key="Q_Select_User_Profile_Info_By_Id">
		<![CDATA[
			SELECT *
			FROM user_profile
			WHERE id = ?
		]]>
	</entry>

	<!-- Building -->
	
	<entry key="Q_Select_Building_By_Id">
		<![CDATA[
			SELECT building.id, building.name, building.street, building.city, building.capacity, building.avatar, building.country_id, building.is_smart, COUNT(apartment.id) as occupied
			FROM building
			LEFT JOIN apartment
			ON building.id = apartment.building_id
 			GROUP BY id
			WHERE building.id = ?
		]]>
	</entry>	

	<entry key="Q_Select_Buildings">
		<![CDATA[
			SELECT building.id, building.name, building.street, building.city, building.capacity, building.avatar, building.country_Id, building.is_smart, COUNT(apartment.id) as occupied
			FROM building
			LEFT JOIN apartment
			ON building.id = apartment.building_id
 			GROUP BY building.id
		]]>
	</entry>

	<entry key="Q_Select_Buildings_By_Seer_ID">
		<![CDATA[
			SELECT *
			FROM building
			WHERE building.seer_id = ?
			ORDER BY building.id
		]]>
	</entry>

	<entry key="Q_Insert_Building">
		<![CDATA[
			INSERT INTO building
			(
			seer_id,
			name,
			street,
			city,
			country_id,
			is_smart,
			capacity,
			avatar
			)
			VALUES (?, ?, ?, ?, ?, ?, ?, ?)
		]]>
	</entry>
	
	<entry key="Q_Update_Building">
		<![CDATA[
			UPDATE building
			SET
			name = ?,
			street = ?,
			city = ?,
			country_id = ?,
			is_smart = ?,
			capacity = ?,
			avatar = ?
			WHERE id = ?
		]]>
	</entry>	
	
	<entry key="Q_Delete_Building">
		<![CDATA[
			DELETE FROM building
			WHERE id = ?
		]]>
	</entry>


	<!-- Apartment -->

	<entry key="Q_Select_Apartment_By_Id">
		<![CDATA[
			SELECT *
			FROM apartment
			WHERE apartment.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Apartments_By_Building_Id">
		<![CDATA[
			SELECT *
			FROM apartment
			WHERE apartment.building_id = ?
			ORDER BY apartment.id
		]]>
	</entry>

	<entry key="Q_Insert_Apartment">
		<![CDATA[
			INSERT INTO apartment
			(
			building_id,
			number,
			last_name,
			contact,
			size,
			adults_count,
			children_count,
			email,
			phone,
			mobile,
			rent_ends,
			is_occupied
			)
			VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
		]]>
	</entry>

	<entry key="Q_Update_Apartment">
		<![CDATA[
			UPDATE apartment
			SET
			number = ?,
			last_name = ?,
			contact = ?,
			size = ?,
			adults_count = ?,
			children_count = ?,
			email = ?,
			phone = ?,
			mobile = ?,
			rent_ends = ?,
			is_occupied = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Apartment">
		<![CDATA[
			DELETE FROM apartment
			WHERE id = ?
		]]>
	</entry>


	<!-- Task -->

	<entry key="Q_Select_Task_By_Id">
		<![CDATA[
			SELECT *
			FROM task
			WHERE task.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Tasks_By_Building_Id">
		<![CDATA[
			SELECT *
			FROM task
			WHERE task.building_id = ?
			ORDER BY task.id
		]]>
	</entry>

	<entry key="Q_Insert_Task">
		<![CDATA[
			INSERT INTO task
			(
			building_id,
			apartment_id,
			task_category_id,
			name,
			description,
			completed,
			due_date
			)
			VALUES (?, ?, ?, ?, ?, ?, ?)
		]]>
	</entry>

	<entry key="Q_Update_Task">
		<![CDATA[
			UPDATE task
			SET
			apartment_id = ?,
			task_category_id = ?,
			name = ?,
			description = ?,
			completed = ?,
			due_date = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Change_Task_Status">
		<![CDATA[
			UPDATE task
			SET
			completed = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Task">
		<![CDATA[
			DELETE FROM task
			WHERE id = ?
		]]>
	</entry>


	<!-- Message -->

	<entry key="Q_Select_Message_By_Id">
		<![CDATA[
			SELECT *
			FROM message
			WHERE message.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Messages_By_Building_Id">
		<![CDATA[
			SELECT message.id, message.building_id, message.apartment_id, message.title, message.body, message.date_created, message.read, message.sent_by_seer, apartment.number as apartment_number, apartment.last_name as apartment_last_name
			FROM message
			LEFT JOIN apartment
			ON message.apartment_id = apartment.id
			WHERE message.building_id = ?
			ORDER BY message.date_created
		]]>
	</entry>

	<entry key="Q_Select_Messages_By_Apartment_Id">
		<![CDATA[
			SELECT *
			FROM message
			WHERE message.apartment_id = ?
			ORDER BY message.id
		]]>
	</entry>

	<entry key="Q_Insert_Message">
		<![CDATA[
			INSERT INTO message
			(
			building_id,
			apartment_id,
			title,
			body,
			date_created,
			read,
			sent_by_seer
			)
			VALUES (?, ?, ?, ?, ?, ?, ?)
		]]>
	</entry>

	<entry key="Q_Update_Message">
		<![CDATA[
			UPDATE message
			SET
			title = ?,
			body = ?,
			date_created = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Message">
		<![CDATA[
			DELETE FROM message
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Mark_Message_As_Read">
		<![CDATA[
			UPDATE message
			SET
			read = true
			WHERE id = ?
		]]>
	</entry>

	<!-- Task category -->

	<entry key="Q_Select_Task_Category_By_Id">
		<![CDATA[
			SELECT *
			FROM task_category
			WHERE task_category.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Task_Categories_By_Building_Id">
		<![CDATA[
			SELECT *
			FROM task_category
			WHERE task_category.building_id = ?
		]]>
	</entry>

	<entry key="Q_Select_Task_Categories">
		<![CDATA[
			SELECT *
			FROM task_category
		]]>
	</entry>

	<entry key="Q_Insert_Task_Category">
		<![CDATA[
			INSERT INTO task_category
			(
			name
			)
			VALUES (?)
		]]>
	</entry>

	<entry key="Q_Update_Task_Category">
		<![CDATA[
			UPDATE task_category
			SET
			name = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Task_Category">
		<![CDATA[
			DELETE FROM task_category
			WHERE id = ?
		]]>
	</entry>


	<!-- Monitoring -->

	<entry key="Q_Select_Monitoring_By_Id">
		<![CDATA[
			SELECT *
			FROM monitoring
			WHERE monitoring_category.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Monitorings_By_Building_Id">
		<![CDATA[
			SELECT *
			FROM monitoring
			WHERE monitoring.building_id = ?
		]]>
	</entry>

	<entry key="Q_Select_Monitorings_By_Category_Id_And_Building_Id">
		<![CDATA[
			SELECT *
			FROM monitoring
			WHERE monitoring.monitoring_category_id = ? AND monitoring.building_id = ?
		]]>
	</entry>

	<entry key="Q_Insert_Monitoring">
		<![CDATA[
			INSERT INTO monitoring
			(
			monitoring_category_id,
			building_id,
			value,
			entry_date
			)
			VALUES (?, ?, ?, ?)
		]]>
	</entry>


	<entry key="Q_Update_Monitoring">
		<![CDATA[
			UPDATE monitoring
			SET
			value = ?,
			entry_date = ?
			WHERE monitoring.id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Monitoring">
		<![CDATA[
			DELETE FROM monitoring
			WHERE id = ?
		]]>
	</entry>


	<!-- Monitoring category -->

	<entry key="Q_Select_Monitoring_Category_By_Id">
		<![CDATA[
			SELECT *
			FROM monitoring_category
			WHERE monitoring_category.id = ?
		]]>
	</entry>

	<entry key="Q_Select_Monitoring_Categories">
		<![CDATA[
			SELECT *
			FROM monitoring_category
		]]>
	</entry>

	<entry key="Q_Select_Monitoring_Categories_By_Building_Id">
		<![CDATA[
			SELECT *
			FROM monitoring_category
			WHERE monitoring_category.building_id = ?
		]]>
	</entry>

	<entry key="Q_Insert_Monitoring_Category">
		<![CDATA[
			INSERT INTO monitoring_category
			(
			name
			)
			VALUES (?)
		]]>
	</entry>

	<entry key="Q_Update_Monitoring_Category">
		<![CDATA[
			UPDATE monitoring_category
			SET
			name = ?
			WHERE id = ?
		]]>
	</entry>

	<entry key="Q_Delete_Monitoring_Category">
		<![CDATA[
			DELETE FROM monitoring_category
			WHERE id = ?
		]]>
	</entry>
</properties>
